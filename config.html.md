# config


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

<!-- # Prologue -->

# Default config

# Configuration Loading

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/config.py#L59"
target="_blank" style="float:right; font-size:smaller">source</a>

### find_config

>  find_config (start_path:str|pathlib.Path='.')

*Search up directory tree for .ctxt.yml config file*

``` python
config_path = find_config()
assert config_path is not None  # silly Pylance doesn't understand fastcore test_eq, so use assert here to avoid type warning (Hate Wiggly Reds)
test_eq(config_path.name, CONFIG_FILENAME)
```

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/config.py#L68"
target="_blank" style="float:right; font-size:smaller">source</a>

### load_config

>  load_config (path:str|pathlib.Path='.')

*Load and parse `CONFIG_FILENAME` config file, use defaults if not
found*

``` python
config = load_config()
test_is(config is not None, True)
test_is('tags' in config, True)

RenderJSON(config, init_level=2, max_height=400).display()
```

<div id="wrapper-3d5bf986-8487-4ad3-aa24-f64a610ef3df" style="width: 100%; max-height: 400px; overflow-y: auto;">
    <div id="3d5bf986-8487-4ad3-aa24-f64a610ef3df" style="width: 100%;"></div>
    <script>
        function renderMyJson() {
            renderjson.set_show_to_level(2);
            document.getElementById('3d5bf986-8487-4ad3-aa24-f64a610ef3df').appendChild(renderjson({"templates": {"meta": {}, "Cursor": {"dest": ".cursor/rules/"}, "Claude_Coder": {"dest": ".claude-coder/rules/"}}, "tags": {"Project-Name": "ctxt", "Project-Objective": "Provide a set of helpers to convert templates to prompts for language models.", "Project-Current-Phase": "Initial setup.", "User-Alias": "vic", "User-Profile": "- Seasoned programmer with extensive experience |\n- Primary languages: Python, JavaScript |\n- Development environment: Mac and Linux |\n- IDEs: VSCode/Cursor notebooks |\n- Follows literate programming principles |\n- Uses @nbdev library for notebook-based development |\n", "User-Language-Note": "I am a Spanish speaker attempting to communicate in English. Though your **first priority** should be what's in @project.mdc, when indicated, please help me learn and improve my English communication skills, and refine my writings when appropiate by following the guidelines in @english-assistan.mdc.", "Language-Name": "Spanish"}, "general": {"ignore": [], "warn_missing_tags": true, "strict_mode": false, "max_recursion": 10, "preserve_timestamps": false}}));
        };
        function loadRenderjson() {
            if (window.renderjson) return Promise.resolve();
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/renderjson@latest/renderjson.js';
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        };
        loadRenderjson().then(renderMyJson).catch(err => console.error('Failed to load renderjson:', err));
    </script>
</div>

# Configuration Validation

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/config.py#L83"
target="_blank" style="float:right; font-size:smaller">source</a>

### validate_config

>  validate_config (config:dict)

*Validate config structure, return (is_valid, errors)*

``` python
is_valid, errors = validate_config(config)
test_eq(is_valid, True)
test_eq(errors, [])
```

``` python
invalid_config = {'tags': 'not-a-dict', 'general': []}
is_valid, errors = validate_config(invalid_config)
test_eq(is_valid, False)
test_eq(len(errors), 2)
```

# Tag Retrieval

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/config.py#L95"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_tag

>  get_tag (config:dict, tag_name:str, default:str|None=None)

*Get tag value from config, with optional default*

``` python
project_name = get_tag(config, 'Project-Name')
test_eq(project_name, 'ctxt')

missing = get_tag(config, 'NonExistent', 'default_value')
test_eq(missing, 'default_value')

user_alias = get_tag(config, 'User-Alias')
test_eq(user_alias, 'vic')
```

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/config.py#L100"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_all_tags

>  get_all_tags (config:dict)

*Get all tags from config as a flat dictionary*

``` python
all_tags = get_all_tags(config)
test_is(isinstance(all_tags, dict), True)
test_is('Project-Name' in all_tags, True)
test_is('User-Alias' in all_tags, True)
```

``` python
# Test template config access
template_cfg = config['templates']
test_is(isinstance(template_cfg, dict), True)

vendors = config['templates']
test_is(isinstance(vendors, dict), True)

meta_cfg = config['templates']['meta']
test_is(isinstance(meta_cfg, dict), True)

options = config['general']
test_is(isinstance(options, dict), True)
test_eq(options['max_recursion'], 10)  # default value
```

------------------------------------------------------------------------

<!-- # Colophon -->
