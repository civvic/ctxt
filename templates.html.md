# templates


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

<!-- # Prologue -->

# File Discovery

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/templates.py#L25"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_template_files

>  get_template_files (source_dir:str|pathlib.Path, extensions:list[str])

*Find all template files with specified extensions*

``` python
# Test get_template_files
templates_dir = Path('../templates/Cursor')
if templates_dir.exists():
    files = get_template_files(templates_dir, ['.mdc'])
    test_is(len(files) > 0, True)
    test_is(all(f.suffix == '.mdc' for f in files), True)
```

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/templates.py#L37"
target="_blank" style="float:right; font-size:smaller">source</a>

### should_ignore

>  should_ignore (path:pathlib.Path, ignore_patterns:list[str])

*Check if path matches any ignore pattern*

``` python
test_eq(should_ignore(Path('test.pyc'), ['*.pyc']), True)
test_eq(should_ignore(Path('test.txt'), ['*.pyc']), False)
test_eq(should_ignore(Path('normal.md'), []), False)
```

``` python
test_eq(should_ignore(Path('__pycache__/test.py'), ['__pycache__']), True)
```

# Template Processing

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/templates.py#L54"
target="_blank" style="float:right; font-size:smaller">source</a>

### process_template

>  process_template (src:pathlib.Path, dst:pathlib.Path, tags:dict[str,str],
>                        no_substitution:list[str]|None=None, **options)

*Process a single template file*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>src</td>
<td>Path</td>
<td></td>
<td>Source template file</td>
</tr>
<tr>
<td>dst</td>
<td>Path</td>
<td></td>
<td>Destination file</td>
</tr>
<tr>
<td>tags</td>
<td>dict</td>
<td></td>
<td>Tag substitution dictionary</td>
</tr>
<tr>
<td>no_substitution</td>
<td>list[str] | None</td>
<td>None</td>
<td>List of file patterns to copy without substitution</td>
</tr>
<tr>
<td>options</td>
<td>VAR_KEYWORD</td>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Path</strong></td>
<td></td>
<td><strong>Path to destination file</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a href="https://github.com/civvic/ctxt/blob/main/ctxt/templates.py#L73"
target="_blank" style="float:right; font-size:smaller">source</a>

### process_vendor

>  process_vendor (config:dict, vendor_name:str,
>                      root_path:pathlib.Path|None=None)

*Process all templates for a specific vendor*

------------------------------------------------------------------------

<a
href="https://github.com/civvic/ctxt/blob/main/ctxt/templates.py#L120"
target="_blank" style="float:right; font-size:smaller">source</a>

### process_all

>  process_all (config:dict, root_path:pathlib.Path|None=None)

*Process all configured templates*

``` python
# Test process_vendor with real config
config = load_config()
config_path = find_config()
base_path = config_path.parent if config_path else Path.cwd()

# Test meta (special case)
if (base_path / 'templates/meta').exists():
    files = process_vendor(config, 'meta', base_path)
    test_is(isinstance(files, list), True)
    # Check files were created in meta/
    if files:
        test_is(all(f.is_relative_to(base_path / 'meta') for f in files), True)

# Test Cursor vendor
if (base_path / 'templates/Cursor').exists():
    cursor_dest = base_path / config['templates']['Cursor']['dest']
    files = process_vendor(config, 'Cursor', base_path)
    test_is(isinstance(files, list), True)
    if files:
        test_is(all(f.is_relative_to(cursor_dest) for f in files), True)
```

``` python
# Test process_all
results = process_all(config, base_path)
test_is(isinstance(results, dict), True)
test_is('meta' in results or 'Cursor' in results, True)

# Each vendor should return list of paths
for vendor, files in results.items():
    test_is(isinstance(files, list), True)
```

``` python
# Test error handling
test_fail(
    lambda: process_vendor(config, 'NonExistentVendor', base_path),
    contains='not found'
)
```

------------------------------------------------------------------------

<!-- # Colophon -->
